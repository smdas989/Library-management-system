{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% block javascript %}
<script src="{% static '/js/usernameAvailabilityCheck.js' %}"></script>
{% endblock %}

{% block content %}
    <div class="container">
        <form method="POST" >
            {% csrf_token %}
            <div class="col-md-8 col-md-offset-2">
                <div class="panel panel-default">
                    <div class="panel-heading">Register</div>
                    <div class="panel-body">
                        {% if messages %}
                            <ul class="messages">
                                {% for message in messages %}
                                <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message.error }}</li>
                                {% endfor %}
                            </ul>
                        {% endif %}
                        
                        {{ form.username|as_crispy_field }}
                        {{ form.password1|as_crispy_field }}
                        {{ form.password2|as_crispy_field }}
                        {{ form.email|as_crispy_field }}
                        {{ form.first_name|as_crispy_field }}
                        {{ form.last_name|as_crispy_field }}
                        {{ form.department|as_crispy_field }}
                        {{ form.contact_no|as_crispy_field }}
                        {{ form.profile_pic|as_crispy_field }}
                        {{ form.role|as_crispy_field }}
                        <input type="submit" value="Register" class="btn btn-success btn-lg btn-block">
                        <p>Already a member</p> <a href="/accounts/login" >Sign in</a>  
                    </div>
                </div>
            </div>
        </form>
    </div>
{% endblock %}